# 函式

我們知道程式碼可以幫我們做很多事情，例如睡不著要數羊的時候，就讓程式跑個迴圈，一下就幾百幾千萬隻羊了。但是目前為止，所以工作都是被放在一起的，並且只能被執行一次。也就是說，假設我有三件工作，寫成程式碼可能會長這樣：

```js
console.log("程式開始");

console.log("執行工作 1");
/*
 *
 * 工作 1 的程式碼
 *
**/

console.log("執行工作 2");
/*
 *
 * 工作 2 的程式碼
 *
**/

console.log("執行工作 3");
/*
 *
 * 工作 3 的程式碼
 *
**/

console.log("結束程式");
```

這邊用多行註解`/* */` 來表示某個工作的程式碼，這段程式碼可能有非常多行。

這段程式碼會重上到下分別做完三件工作，並且只會執行一次，執行過的程式碼將不再被使用。

這邊就會有個問題了！所有工作擠在一起很難閱讀。再來假設我想讓工作 2 之後還再被執行，例如在工作 9 結束之後需要執行一次，我辦不到，除非我把工作 2 的程式碼通通複製到之後要用的地方。

有沒有好的解決辦法嗎？那就是函式(function)了！

## 函式概念

一個函式可以想像成是一段被命名的程式碼，例如：

```js
function task_1() {
    // 工作 1 的程式碼
    const a = 5;
    const b = 6;
    a = b + 100;
    for(let i = 0; i < 100; i++) {
        console.log(i + a + b);
    }
}
```

這邊我們認識了 `function` 這個關鍵字，他代表的意義就是「宣告」函式，他會包住一段程式碼，稱作宣告內容。後面接的 `task_1` 則是函式的名稱。

然後我們再看到 `task1` 這個函式的大括號 `{ }` 包含了好幾行程式碼，這些程式碼就是這個函式的一部分，為宣告內容。或是可以理解成，這些程式碼的代號就叫做 `task_1`。

如何使用函式呢？

當你定義好函式之後，要用他只需要呼叫他就好：

```js
task_1();
```

這樣函式就會被呼叫，並執行函式裡面的程式碼。

特別注意的是，在 JS 中，函式的定義與被呼叫位置任意，只要在同一個範圍(scope)就好。

意思就是宣告擺在前面:

```js
function task_1() {
 // ...
}
task_1();
```

或是宣告擺在後面

```js
task_1();
function task_1() {
 // ...
}
```

在 JS 中都是 OK 的。

### 使用函式

所以本文一開頭的程式碼，其實可以轉變成這樣：

```js
task_1();
task_2();
task_3();

function task_1() {
    /*
    *
    * 工作 1 的程式碼
    *
    **/
}

function task_2() {
    /*
    *
    * 工作 2 的程式碼
    *
    **/
}

function task_3() {
    /*
    *
    * 工作 3 的程式碼
    *
    **/
}
```

可以發現，現在每個工作都被拆成獨立的函式，閱讀上也更加明瞭。

此外我們提到假設之後想要再次執行的問題，也會迎刃而解：

```js
task_1();
task_2();
task_3();
// ...
// 非常多工作
// ...
task_9();
task_2(); // 工作 2 再次被執行
```

上面這個例子，我們已經將各個工作都寫成函式，因使我們可以呼叫他們來執行。雖然工作 2 在前面被使用過了，但藉由函式的形式，我不需要將程式碼複製一次，一樣能夠再次執行工作 2。

### 小範例

以上就是函示的基本概念，讓我們來看個實際例子：

!FILENAME ex1.js

```js
console.log("工作 1");
console.log("工作 2");
```

!FILENAME ex2.js

```js
task_1();
task_2();

function task_1() {
    console.log("工作 1");
}

function task_2() {
    console.log("工作 2");
}
```

`ex1.js` 和 `ex2.js` 是一樣的，只是有沒有用函式來寫。

執行範例程式碼：

```shell
node ex1.js
node ex2.js
```

結果都會是

```txt
工作 1
工作 2
```
